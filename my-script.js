(function(_0x169374,_0x4639ca){const _0x5858ba=_0x596a,_0x58306e=_0x169374();while(!![]){try{const _0x2c7e98=parseInt(_0x5858ba(0x127))/0x1+-parseInt(_0x5858ba(0x10c))/0x2+-parseInt(_0x5858ba(0x147))/0x3+-parseInt(_0x5858ba(0x161))/0x4+-parseInt(_0x5858ba(0x101))/0x5*(-parseInt(_0x5858ba(0x10d))/0x6)+parseInt(_0x5858ba(0x10a))/0x7*(parseInt(_0x5858ba(0x103))/0x8)+parseInt(_0x5858ba(0x153))/0x9;if(_0x2c7e98===_0x4639ca)break;else _0x58306e['push'](_0x58306e['shift']());}catch(_0x213fcc){_0x58306e['push'](_0x58306e['shift']());}}}(_0x302c,0x3fdb0));const _0x202db8=_0x2d8a;function _0x596a(_0x367f6c,_0x1f4ea6){const _0x302c52=_0x302c();return _0x596a=function(_0x596a65,_0x1ce96b){_0x596a65=_0x596a65-0xfa;let _0x3eb3cf=_0x302c52[_0x596a65];return _0x3eb3cf;},_0x596a(_0x367f6c,_0x1f4ea6);}function _0x44c1(){const _0x1e69bb=_0x596a,_0x2c9a4e=['textContent',_0x1e69bb(0x120),_0x1e69bb(0x136),_0x1e69bb(0x15a),'value',_0x1e69bb(0x15d),'833672TOOfAs','div',_0x1e69bb(0x13c),_0x1e69bb(0x12a),'block',_0x1e69bb(0x162),'roomCode',_0x1e69bb(0xfa),_0x1e69bb(0x15c),_0x1e69bb(0x131),'trim','8gqbcWo',_0x1e69bb(0x12d),_0x1e69bb(0x113),_0x1e69bb(0x144),_0x1e69bb(0x11a),_0x1e69bb(0x109),_0x1e69bb(0x111),_0x1e69bb(0x12e),'*****','length',_0x1e69bb(0x11d),_0x1e69bb(0x138),'12913570MNgVYI','joinError',_0x1e69bb(0x13b),_0x1e69bb(0x155),_0x1e69bb(0x15f),'AIzaSyDhYta0w2K_DQwa0SlBDA3FnfRNqog-ejE','171512EewiRC',_0x1e69bb(0x152),_0x1e69bb(0x159),_0x1e69bb(0x115),_0x1e69bb(0x125),'326545mEAvJa','UPLOAD\x20ERROR:',_0x1e69bb(0x114),'UPLOAD\x20FAILED',_0x1e69bb(0x124),_0x1e69bb(0x11b),'error',_0x1e69bb(0x106),_0x1e69bb(0x129),_0x1e69bb(0x151),'3PBJfvm','eyeToggle','16516pzDxkz',_0x1e69bb(0x112),_0x1e69bb(0x140),_0x1e69bb(0x132),_0x1e69bb(0x10f),_0x1e69bb(0x12c),_0x1e69bb(0x130),_0x1e69bb(0x150),_0x1e69bb(0x14e),_0x1e69bb(0x10e),'map',_0x1e69bb(0x14f),_0x1e69bb(0x137),_0x1e69bb(0x149),_0x1e69bb(0x110),_0x1e69bb(0x15e),_0x1e69bb(0x143),'DOMContentLoaded',_0x1e69bb(0x14c),_0x1e69bb(0x116),'877132syqaJx','userId',_0x1e69bb(0x15b),_0x1e69bb(0x13f),_0x1e69bb(0xfb),_0x1e69bb(0x135),_0x1e69bb(0xfd),_0x1e69bb(0x14b),_0x1e69bb(0x12f),'messages',_0x1e69bb(0x12b),'remove',_0x1e69bb(0x157),_0x1e69bb(0x10b),_0x1e69bb(0x107),_0x1e69bb(0x128),'isTyping',_0x1e69bb(0x133),_0x1e69bb(0x148),'name','createElement',_0x1e69bb(0x158),_0x1e69bb(0xff),_0x1e69bb(0x13a),_0x1e69bb(0x154),_0x1e69bb(0x145),_0x1e69bb(0x105),_0x1e69bb(0x104),'shiftKey',_0x1e69bb(0x14a),_0x1e69bb(0xfe),_0x1e69bb(0x108),_0x1e69bb(0x117),_0x1e69bb(0x13e),_0x1e69bb(0x119),_0x1e69bb(0x102),_0x1e69bb(0x11c),'311390ZnfwjN',_0x1e69bb(0x13d),'https://imagefeed-45d0e-default-rtdb.firebaseio.com','contextmenu',_0x1e69bb(0x123),'168aMkuUK',_0x1e69bb(0x11e)];return _0x44c1=function(){return _0x2c9a4e;},_0x44c1();}(function(_0x1eb0d7,_0x48b7f0){const _0x1b16b3=_0x596a,_0x3dff32=_0x2d8a,_0x535511=_0x1eb0d7();while(!![]){try{const _0x5eb2e0=-parseInt(_0x3dff32(0x1be))/0x1+-parseInt(_0x3dff32(0x1d8))/0x2+-parseInt(_0x3dff32(0x1c8))/0x3*(parseInt(_0x3dff32(0x1de))/0x4)+-parseInt(_0x3dff32(0x189))/0x5+-parseInt(_0x3dff32(0x1e0))/0x6+parseInt(_0x3dff32(0x1b5))/0x7*(parseInt(_0x3dff32(0x194))/0x8)+parseInt(_0x3dff32(0x1eb))/0x9*(parseInt(_0x3dff32(0x1b3))/0xa);if(_0x5eb2e0===_0x48b7f0)break;else _0x535511['push'](_0x535511[_0x1b16b3(0x131)]());}catch(_0x3baa2b){_0x535511[_0x1b16b3(0x116)](_0x535511[_0x1b16b3(0x131)]());}}}(_0x44c1,0x2e059));const _0x58172a=_0x1a8f;(function(_0x502dd3,_0x203427){const _0x2864c6=_0x2d8a,_0x15ba11=_0x1a8f,_0x11155a=_0x502dd3();while(!![]){try{const _0x3a9cb6=-parseInt(_0x15ba11(0x173))/0x1+parseInt(_0x15ba11(0x16b))/0x2+-parseInt(_0x15ba11(0x188))/0x3*(-parseInt(_0x15ba11(0x18c))/0x4)+-parseInt(_0x15ba11(0x167))/0x5+-parseInt(_0x15ba11(0x178))/0x6*(-parseInt(_0x15ba11(0x15b))/0x7)+-parseInt(_0x15ba11(0x16d))/0x8*(-parseInt(_0x15ba11(0x187))/0x9)+parseInt(_0x15ba11(0x13f))/0xa*(-parseInt(_0x15ba11(0x175))/0xb);if(_0x3a9cb6===_0x203427)break;else _0x11155a[_0x2864c6(0x1dd)](_0x11155a[_0x2864c6(0x1a5)]());}catch(_0x556371){_0x11155a[_0x2864c6(0x1dd)](_0x11155a[_0x2864c6(0x1a5)]());}}}(_0x4f15,0x19a85));const _0x1ca384=_0x4361;(function(_0x91ee3d,_0x51ade8){const _0x12fe7a=_0x1a8f,_0x55c248=_0x4361,_0x41ebf1=_0x91ee3d();while(!![]){try{const _0x2cae27=parseInt(_0x55c248(0x1e7))/0x1+-parseInt(_0x55c248(0x1ee))/0x2*(-parseInt(_0x55c248(0x1d3))/0x3)+-parseInt(_0x55c248(0x1fc))/0x4+-parseInt(_0x55c248(0x1f2))/0x5*(-parseInt(_0x55c248(0x220))/0x6)+parseInt(_0x55c248(0x206))/0x7+-parseInt(_0x55c248(0x1fd))/0x8+-parseInt(_0x55c248(0x1d8))/0x9;if(_0x2cae27===_0x51ade8)break;else _0x41ebf1[_0x12fe7a(0x16e)](_0x41ebf1[_0x12fe7a(0x137)]());}catch(_0xe8cd2e){_0x41ebf1[_0x12fe7a(0x16e)](_0x41ebf1[_0x12fe7a(0x137)]());}}}(_0x4353,0xc7764));function _0x1a8f(_0x2171e5,_0x59022f){const _0x2d9782=_0x4f15();return _0x1a8f=function(_0x53d9b4,_0x23af61){_0x53d9b4=_0x53d9b4-0x127;let _0x4284bf=_0x2d9782[_0x53d9b4];return _0x4284bf;},_0x1a8f(_0x2171e5,_0x59022f);}import{initializeApp}from'https://www.gstatic.com/firebasejs/9.22.2/firebase-app.js';import{getDatabase,ref,push,onChildAdded,onChildRemoved,remove,onValue,set,off}from'https://www.gstatic.com/firebasejs/9.22.2/firebase-database.js';import{getStorage,ref as _0x410a6f,uploadBytes,getDownloadURL}from'https://www.gstatic.com/firebasejs/9.22.2/firebase-storage.js';const firebaseConfig={'apiKey':_0x1ca384(0x217),'authDomain':_0x1ca384(0x1cc),'databaseURL':_0x1ca384(0x1ca),'projectId':_0x58172a(0x148),'storageBucket':_0x1ca384(0x20e),'messagingSenderId':_0x1ca384(0x1fb),'appId':_0x1ca384(0x1ff)},app=initializeApp(firebaseConfig),db=getDatabase(app),storage=getStorage(app),roomsRef=ref(db,_0x58172a(0x17d)),activeUsersRef=ref(db,_0x1ca384(0x1ec)),kickedUsersRef=ref(db,_0x1ca384(0x1fe)),typingStatusRef=ref(db,_0x1ca384(0x1ea));function _0x302c(){const _0x196bfe=['typingStatus','toLocaleTimeString','includes','2-digit','popupClose','keydown','Room\x20code\x20must\x20be\x20at\x20least\x204\x20characters','sendMessage','ctrlKey','5leFtCu','infoBtn','203656iQkdwy','className','11gDhOsW','addEventListener','getElementById','1371505SdnkJA','roomCodeDisplay','98MNVBFV','9IwpPXW','1000478zgZKEV','1003872hZfXGy','join','imageUpload','282064qObDJT','toString','chatRoom','10254TDdwYq','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22msg-time\x22>','key','push','change','beforeunload','now','imagefeed-45d0e','values','files','770399nkVQDj','innerHTML','are','886161237670','appendChild','1:886161237670:web:105822aeb49c11340d7667','\x20typing\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22typing-dots\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','none','IMAGE\x20TOO\x20LARGE\x20(MAX\x203MB)','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','326761NUQjlG','Please\x20enter\x20a\x20valid\x20email','joinChat','18mQiTLU','logout','10524eUHyiy','F12','chat_images/','messageInput','162lujVrS','shift','userEmail','kickedUsers/','rooms/','rooms','imagefeed-45d0e.firebaseapp.com','1427156ophNEL','click','kickedMessage','imagefeed-45d0e.firebasestorage.app','23163XGNnvY','124856GrbusD','\x22\x20/>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22msg-time\x22>','scrollHeight','kickedUsers','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','2707668wmbNvu','toUpperCase','scrollTop','style','joinForm','</strong>\x20sent\x20an\x20image:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br><img\x20src=\x22','824022tDlXhc','preventDefault','val','activeUsers','935594xraGeI','msg\x20img-msg','userListPopup','entries','7147ReLOyE','keyup','exists','typingStatus/','3786795GXEpWy','keypress','1415jAwqST','username','18cTFIDY','activeUsers/','msg','Enter','1267080HCisSw','display','</strong>:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>','Username\x20must\x20be\x20at\x20least\x203\x20characters','size','939044RIxwas'];_0x302c=function(){return _0x196bfe;};return _0x302c();}let username='',userEmail='',roomCode='',currentUserId=null,currentRoomRef=null,userKickListener=null,typingTimeout=null,isTyping=![],showRoomCode=![];document[_0x1ca384(0x1f3)](_0x1ca384(0x203),()=>{const _0x4831ff=_0x2d8a,_0x445a54=_0x58172a,_0x82f4c9=_0x1ca384,_0x55509c=document[_0x82f4c9(0x1c4)](_0x82f4c9(0x1e4)),_0x40cebf=document[_0x82f4c9(0x1c4)](_0x82f4c9(0x21f));_0x55509c[_0x82f4c9(0x1f3)](_0x82f4c9(0x205),()=>{const _0x278890=_0x82f4c9;showRoomCode=!showRoomCode,_0x55509c[_0x278890(0x1d4)]=showRoomCode?'ðŸ‘':'ðŸ‘',_0x40cebf[_0x278890(0x1d4)]=showRoomCode?roomCode:_0x278890(0x1d2);});const _0x4ebf5e=document[_0x445a54(0x166)](_0x82f4c9(0x1e3)),_0x64d64=document[_0x82f4c9(0x1c4)](_0x82f4c9(0x1ce)),_0x4039f5=document[_0x4831ff(0x1ec)](_0x82f4c9(0x221)),_0x548dbe=document[_0x445a54(0x166)](_0x445a54(0x13c));_0x4ebf5e[_0x82f4c9(0x1f3)](_0x4831ff(0x1b2),()=>{const _0x4898ab=_0x445a54,_0x2404a1=_0x82f4c9;if(!currentRoomRef)return;const _0x36d9e0=document[_0x2404a1(0x1c4)](_0x4898ab(0x12e));_0x36d9e0[_0x2404a1(0x1c3)]='';const _0x31bfae=ref(db,_0x2404a1(0x1d1)+roomCode);onValue(_0x31bfae,_0x345543=>{const _0x1f4e64=_0x2d8a,_0x548a26=_0x4898ab,_0x1dd245=_0x2404a1,_0x59d0a6=_0x345543[_0x548a26(0x152)]()||{};_0x36d9e0[_0x1f4e64(0x195)]='';for(const [_0x6887db,_0x532309]of Object[_0x1dd245(0x1cd)](_0x59d0a6)){const _0x320f0f=document[_0x1dd245(0x201)]('li');_0x320f0f[_0x1dd245(0x1d4)]=_0x532309[_0x548a26(0x17a)],_0x36d9e0[_0x1dd245(0x1da)](_0x320f0f);}},{'onlyOnce':!![]}),_0x548dbe[_0x2404a1(0x20a)][_0x2404a1(0x1ed)]=_0x2404a1(0x21e),_0x4039f5[_0x2404a1(0x20a)][_0x2404a1(0x1ed)]=_0x2404a1(0x21e);}),_0x64d64[_0x82f4c9(0x1f3)](_0x82f4c9(0x205),()=>{const _0x4cf78a=_0x82f4c9;_0x548dbe[_0x4cf78a(0x20a)][_0x4cf78a(0x1ed)]=_0x4cf78a(0x1f6),_0x4039f5[_0x4cf78a(0x20a)][_0x4cf78a(0x1ed)]=_0x4cf78a(0x1f6);}),_0x4039f5[_0x82f4c9(0x1f3)](_0x445a54(0x147),()=>{const _0x5e8336=_0x596a,_0x19985f=_0x82f4c9;_0x548dbe[_0x19985f(0x20a)][_0x5e8336(0x15c)]=_0x19985f(0x1f6),_0x4039f5[_0x19985f(0x20a)][_0x19985f(0x1ed)]=_0x19985f(0x1f6);});}),window[_0x1ca384(0x1df)]=()=>{const _0x55592f=_0x2d8a,_0x3ec5c9=_0x58172a,_0x50fcec=_0x1ca384,_0x4f5222=document[_0x50fcec(0x1c4)](_0x50fcec(0x21b)),_0xcaaeba=document[_0x50fcec(0x1c4)](_0x50fcec(0x1f0)),_0x3eebec=document[_0x50fcec(0x1c4)](_0x50fcec(0x1dd)),_0x149622=document[_0x50fcec(0x1c4)](_0x50fcec(0x1ef));username=_0x4f5222[_0x50fcec(0x1de)][_0x50fcec(0x20b)](),userEmail=_0xcaaeba[_0x55592f(0x19a)][_0x3ec5c9(0x18d)](),roomCode=_0x3eebec[_0x3ec5c9(0x169)][_0x55592f(0x1a6)]()[_0x50fcec(0x1c8)]();if(!username||username[_0x50fcec(0x21a)]<0x3){_0x149622[_0x50fcec(0x1d4)]=_0x3ec5c9(0x168);return;}if(!userEmail||!userEmail[_0x50fcec(0x21c)]('@')){_0x149622[_0x50fcec(0x1d4)]=_0x3ec5c9(0x150);return;}if(!roomCode||roomCode[_0x50fcec(0x21a)]<0x4){_0x149622[_0x50fcec(0x1d4)]=_0x50fcec(0x1f9);return;}_0x149622[_0x50fcec(0x1d4)]='',currentUserId=Date[_0x3ec5c9(0x18b)]()[_0x50fcec(0x204)](),document[_0x50fcec(0x1c4)](_0x3ec5c9(0x133))[_0x50fcec(0x20a)][_0x50fcec(0x1ed)]=_0x50fcec(0x1f6),document[_0x50fcec(0x1c4)](_0x50fcec(0x1e8))[_0x50fcec(0x20a)][_0x50fcec(0x1ed)]=_0x50fcec(0x21e),document[_0x3ec5c9(0x166)](_0x3ec5c9(0x132))[_0x3ec5c9(0x127)]=_0x3ec5c9(0x12d),showRoomCode=![],currentRoomRef=ref(db,_0x50fcec(0x1f7)+roomCode),set(ref(db,_0x50fcec(0x1d1)+roomCode+'/'+currentUserId),{'name':username,'email':userEmail}),setupChatListeners(),checkIfKicked(),document[_0x50fcec(0x1c4)](_0x50fcec(0x214))[_0x55592f(0x1c5)](_0x50fcec(0x1e2),handleImageUpload),setupTypingIndicator();const _0x448a88=document[_0x50fcec(0x1c4)](_0x55592f(0x1e6));_0x448a88[_0x55592f(0x1c5)](_0x50fcec(0x207),handleTypingStart),_0x448a88[_0x50fcec(0x1f3)](_0x50fcec(0x1cb),handleTypingEnd),_0x448a88[_0x50fcec(0x1f3)](_0x3ec5c9(0x161),_0x49fbfb=>{const _0x267627=_0x55592f,_0x3f238b=_0x50fcec;_0x49fbfb[_0x267627(0x1bc)]===_0x3f238b(0x1dc)&&sendMessage();}),window[_0x50fcec(0x1f3)](_0x50fcec(0x212),()=>{const _0x4e1ca2=_0x50fcec;remove(ref(db,_0x4e1ca2(0x1d1)+roomCode+'/'+currentUserId)),stopTyping();});};function setupTypingIndicator(){const _0x53d583=_0x1ca384,_0x450702=ref(db,_0x53d583(0x1d7)+roomCode);onValue(_0x450702,_0x361c58=>{const _0x2830f6=_0x1a8f,_0x423999=_0x53d583,_0x36c49c=_0x361c58[_0x2830f6(0x152)]()||{},_0x5145cd=Object[_0x423999(0x1c9)](_0x36c49c)[_0x423999(0x208)](_0x210a69=>_0x210a69[_0x2830f6(0x160)]!==currentUserId&&_0x210a69[_0x423999(0x1c5)])[_0x423999(0x1d5)](_0x2401e0=>_0x2401e0[_0x2830f6(0x17a)]),_0x346df4=document[_0x423999(0x1c4)](_0x2830f6(0x13b));_0x5145cd[_0x423999(0x21a)]>0x0?_0x346df4[_0x423999(0x1c3)]=_0x423999(0x218)+_0x5145cd[_0x423999(0x209)](',\x20')+'\x20'+(_0x5145cd[_0x423999(0x21a)]>0x1?_0x423999(0x1e1):'is')+_0x423999(0x1fa):_0x346df4[_0x423999(0x1c3)]='';});}function handleTypingStart(){!isTyping&&(isTyping=!![],updateTypingStatus(!![])),clearTimeout(typingTimeout),typingTimeout=setTimeout(()=>{isTyping=![],updateTypingStatus(![]);},0x7d0);}function handleTypingEnd(){clearTimeout(typingTimeout),typingTimeout=setTimeout(()=>{isTyping=![],updateTypingStatus(![]);},0x7d0);}function _0x4361(_0x25c7c0,_0x4f92b9){const _0x53b97f=_0x4353();return _0x4361=function(_0x11af47,_0x28dbb6){_0x11af47=_0x11af47-0x1c3;let _0x4d0dc8=_0x53b97f[_0x11af47];return _0x4d0dc8;},_0x4361(_0x25c7c0,_0x4f92b9);}function updateTypingStatus(_0x34694d){const _0xede1c1=_0x1ca384;if(!currentUserId||!roomCode)return;set(ref(db,_0xede1c1(0x1d7)+roomCode+'/'+currentUserId),{'name':username,'isTyping':_0x34694d,'userId':currentUserId});}function _0x4f15(){const _0x191ff8=_0x596a,_0x540291=_0x2d8a,_0x21fdef=[_0x540291(0x1c5),_0x540291(0x1a9),_0x540291(0x1ed),_0x191ff8(0x121),_0x540291(0x1d7),_0x540291(0x1b8),_0x191ff8(0x163),_0x540291(0x1c4),_0x540291(0x18d),_0x540291(0x1ca),_0x540291(0x1b4),_0x540291(0x1a2),_0x540291(0x1a8),_0x540291(0x1d5),_0x191ff8(0x142),_0x540291(0x1bc),_0x540291(0x19b),_0x540291(0x1db),_0x540291(0x1df),_0x540291(0x182),_0x540291(0x1cc),_0x540291(0x1c9),_0x191ff8(0x156),_0x540291(0x181),_0x540291(0x1ec),'422215jeDRrt',_0x540291(0x1b7),_0x540291(0x19a),'filter',_0x540291(0x19e),_0x540291(0x1bb),_0x540291(0x1b9),_0x540291(0x1dd),_0x191ff8(0x141),_0x540291(0x1ba),_0x540291(0x1d1),_0x540291(0x1c6),_0x540291(0x1cf),_0x540291(0x1c0),_0x540291(0x184),_0x540291(0x191),_0x540291(0x18b),_0x540291(0x1d0),_0x540291(0x1e7),_0x540291(0x17d),_0x540291(0x1bf),_0x540291(0x1dc),_0x540291(0x1e3),_0x540291(0x1b0),_0x540291(0x1c2),_0x540291(0x1d3),_0x540291(0x1e1),_0x540291(0x1bd),_0x540291(0x1aa),_0x540291(0x1e5),_0x540291(0x188),_0x540291(0x1d2),_0x540291(0x19f),'147489aqDMSY',_0x540291(0x1e6),_0x540291(0x199),_0x540291(0x18c),_0x540291(0x1a7),_0x540291(0x1a6),_0x540291(0x196),_0x540291(0x17e),_0x191ff8(0x139),_0x540291(0x1e9),_0x540291(0x19c),_0x540291(0x1ea),_0x540291(0x1af),'activeUsersList',_0x540291(0x1ce),_0x540291(0x17f),_0x540291(0x1d9),_0x540291(0x1ac),_0x540291(0x183),_0x191ff8(0x146),_0x191ff8(0x11f),_0x540291(0x190),_0x540291(0x1a5),_0x540291(0x193),_0x540291(0x1d6),_0x540291(0x1f0),'typingIndicator',_0x191ff8(0x14d),_0x540291(0x1e4),_0x540291(0x192),_0x540291(0x18f),_0x540291(0x197),_0x191ff8(0xfc),'popupOverlay',_0x540291(0x19d),_0x540291(0x1b6),_0x540291(0x187),_0x191ff8(0x122),_0x540291(0x1b2),_0x540291(0x1ab),_0x191ff8(0x126),_0x540291(0x198),_0x540291(0x1a1),_0x540291(0x1da),_0x540291(0x1ee)];return _0x4f15=function(){return _0x21fdef;},_0x4f15();}function _0x4353(){const _0x59adb0=_0x596a,_0x574da6=_0x2d8a,_0x1e4510=_0x58172a,_0x437684=[_0x1e4510(0x163),_0x1e4510(0x189),_0x1e4510(0x15e),_0x1e4510(0x184),_0x574da6(0x1cb),_0x1e4510(0x17a),_0x1e4510(0x14b),_0x1e4510(0x182),_0x1e4510(0x145),_0x574da6(0x1a4),_0x1e4510(0x157),_0x1e4510(0x158),_0x574da6(0x1cd),_0x1e4510(0x179),_0x1e4510(0x144),_0x1e4510(0x14e),_0x1e4510(0x134),_0x1e4510(0x149),_0x1e4510(0x17f),_0x59adb0(0x134),'key',_0x1e4510(0x185),_0x1e4510(0x138),_0x1e4510(0x140),_0x1e4510(0x139),_0x1e4510(0x12b),_0x1e4510(0x181),_0x1e4510(0x146),_0x1e4510(0x131),_0x1e4510(0x128),_0x574da6(0x1e8),_0x1e4510(0x15f),_0x574da6(0x1ad),_0x1e4510(0x147),_0x574da6(0x1b1),_0x1e4510(0x13d),_0x1e4510(0x16a),_0x1e4510(0x180),_0x574da6(0x1aa),_0x1e4510(0x18d),_0x574da6(0x186),_0x574da6(0x1ae),_0x1e4510(0x165),'val',_0x1e4510(0x18b),'target',_0x59adb0(0x118),_0x574da6(0x18e),_0x1e4510(0x12f),_0x574da6(0x1ef),_0x574da6(0x1c1),_0x1e4510(0x153),_0x1e4510(0x162),_0x1e4510(0x143),_0x1e4510(0x17e),_0x1e4510(0x164),_0x574da6(0x1a3),_0x1e4510(0x13e),_0x574da6(0x1a0),_0x1e4510(0x132),_0x1e4510(0x14f),_0x1e4510(0x142),_0x574da6(0x195),_0x574da6(0x1ec),_0x1e4510(0x14d),_0x59adb0(0x160),_0x1e4510(0x17c),_0x1e4510(0x15c),_0x574da6(0x1c3),_0x1e4510(0x176),_0x1e4510(0x171),_0x1e4510(0x14a),_0x1e4510(0x186),_0x1e4510(0x141),_0x1e4510(0x17b),_0x1e4510(0x136),_0x1e4510(0x130),_0x1e4510(0x12d),_0x1e4510(0x12c),_0x1e4510(0x127),_0x574da6(0x1d4),_0x1e4510(0x174),_0x1e4510(0x170),_0x1e4510(0x16f),_0x574da6(0x1e2),_0x1e4510(0x151),_0x59adb0(0x100),_0x1e4510(0x18a),_0x1e4510(0x159),_0x574da6(0x19a),_0x1e4510(0x172),_0x1e4510(0x13a),_0x1e4510(0x135),_0x574da6(0x18a),_0x1e4510(0x156)];return _0x4353=function(){return _0x437684;},_0x4353();}function stopTyping(){if(!currentUserId||!roomCode)return;updateTypingStatus(![]);}function _0x2d8a(_0x468f92,_0xa63682){const _0xe0e576=_0x44c1();return _0x2d8a=function(_0x3c76b4,_0x5f25ac){_0x3c76b4=_0x3c76b4-0x17d;let _0x54d6b7=_0xe0e576[_0x3c76b4];return _0x54d6b7;},_0x2d8a(_0x468f92,_0xa63682);}function setupChatListeners(){onChildAdded(currentRoomRef,_0x5b8661=>{const _0x45a5f5=_0x2d8a,_0x16cf63=_0x1a8f,_0x4547ae=_0x4361,{name:_0x5e15f6,message:_0x45990c,imageUrl:_0x1a7240,userId:_0x22ec87,timestamp:_0x29eb1b}=_0x5b8661[_0x4547ae(0x20f)](),_0x971f51=document[_0x4547ae(0x201)](_0x4547ae(0x219));_0x971f51[_0x45a5f5(0x185)]=_0x1a7240?_0x4547ae(0x1c7):_0x16cf63(0x16c),_0x971f51['id']=_0x5b8661[_0x16cf63(0x15d)];const _0x39b4ba=new Date(_0x29eb1b),_0x107cf6=_0x39b4ba[_0x16cf63(0x154)]([],{'hour':_0x4547ae(0x1d9),'minute':_0x4547ae(0x1d9)});_0x1a7240?_0x971f51[_0x4547ae(0x1c3)]=_0x4547ae(0x200)+_0x5e15f6+_0x4547ae(0x1f4)+_0x1a7240+_0x4547ae(0x1d0)+_0x107cf6+_0x4547ae(0x1f5):_0x971f51[_0x4547ae(0x1c3)]=_0x4547ae(0x200)+_0x5e15f6+_0x4547ae(0x1e6)+_0x45990c+_0x4547ae(0x1d6)+_0x107cf6+_0x16cf63(0x149);const _0x5635cd=document[_0x16cf63(0x166)](_0x4547ae(0x1f1));_0x5635cd[_0x4547ae(0x1da)](_0x971f51),_0x5635cd[_0x16cf63(0x14c)]=_0x5635cd[_0x16cf63(0x177)];}),onChildRemoved(currentRoomRef,_0x76c337=>{const _0x4d2d2c=_0x1a8f,_0x82a13f=_0x4361,_0x415061=document[_0x82a13f(0x1c4)](_0x76c337[_0x82a13f(0x1f8)]);_0x415061&&_0x415061[_0x4d2d2c(0x12a)]();});}function checkIfKicked(){const _0x3f7501=_0x1ca384;if(!currentUserId||!roomCode)return;userKickListener=onValue(ref(db,_0x3f7501(0x215)+roomCode+'/'+currentUserId),_0x54f11c=>{const _0x28e290=_0x2d8a,_0x3ff433=_0x3f7501;_0x54f11c[_0x28e290(0x1c7)]()&&(handleKick(),remove(ref(db,_0x3ff433(0x215)+roomCode+'/'+currentUserId)));});}function handleKick(){const _0x10f77f=_0x2d8a,_0x2b675e=_0x58172a,_0x34c49c=_0x1ca384;logout(),document[_0x34c49c(0x1c4)](_0x34c49c(0x1e8))[_0x34c49c(0x20a)][_0x34c49c(0x1ed)]=_0x34c49c(0x1f6),document[_0x2b675e(0x166)](_0x2b675e(0x133))[_0x34c49c(0x20a)][_0x10f77f(0x1a4)]=_0x34c49c(0x1f6),document[_0x10f77f(0x1ec)](_0x2b675e(0x129))[_0x34c49c(0x20a)][_0x34c49c(0x1ed)]=_0x34c49c(0x21e),setTimeout(()=>{const _0x58f7ca=_0x2b675e,_0x591fa0=_0x34c49c;document[_0x58f7ca(0x166)](_0x58f7ca(0x129))[_0x591fa0(0x20a)][_0x591fa0(0x1ed)]=_0x591fa0(0x1f6),document[_0x591fa0(0x1c4)](_0x58f7ca(0x133))[_0x591fa0(0x20a)][_0x591fa0(0x1ed)]=_0x591fa0(0x21e);},0x1b58);}window[_0x202db8(0x180)]=()=>{const _0x209061=_0x58172a,_0x53f3ed=_0x1ca384,_0x4d89b7=document[_0x53f3ed(0x1c4)](_0x209061(0x189))[_0x53f3ed(0x1de)][_0x53f3ed(0x20b)]();_0x4d89b7!==''&&currentRoomRef&&(push(currentRoomRef,{'name':username,'message':_0x4d89b7,'timestamp':Date[_0x53f3ed(0x210)](),'userId':currentUserId}),document[_0x53f3ed(0x1c4)](_0x53f3ed(0x1e5))[_0x209061(0x169)]='',stopTyping());};async function handleImageUpload(_0xd86424){const _0x3fefc2=_0x202db8,_0x49ad06=_0x58172a,_0x25601c=_0x1ca384,_0x5bd77d=_0xd86424[_0x25601c(0x211)][_0x25601c(0x213)][0x0];if(!_0x5bd77d)return;if(_0x5bd77d[_0x25601c(0x1c6)]>0x3*0x400*0x400){alert(_0x25601c(0x1eb));return;}try{const _0x594190=_0x410a6f(storage,_0x25601c(0x20d)+roomCode+'/'+Date[_0x49ad06(0x18b)]()+'_'+_0x5bd77d[_0x25601c(0x1e9)]);await uploadBytes(_0x594190,_0x5bd77d);const _0x3eee1f=await getDownloadURL(_0x594190);push(currentRoomRef,{'name':username,'imageUrl':_0x3eee1f,'timestamp':Date[_0x25601c(0x210)](),'userId':currentUserId}),_0xd86424[_0x25601c(0x211)][_0x3fefc2(0x19a)]='';}catch(_0x3a9bf7){console[_0x49ad06(0x155)](_0x25601c(0x1cf),_0x3a9bf7),alert(_0x25601c(0x216));}}window[_0x1ca384(0x202)]=()=>{const _0x26de9d=_0x596a,_0x5c586a=_0x58172a,_0x294e48=_0x1ca384;currentUserId&&roomCode&&(remove(ref(db,_0x294e48(0x1d1)+roomCode+'/'+currentUserId)),remove(ref(db,_0x294e48(0x1d7)+roomCode+'/'+currentUserId))),resetUserState(),document[_0x26de9d(0x107)]('joinForm')[_0x294e48(0x20a)][_0x294e48(0x1ed)]=_0x294e48(0x21e),document[_0x294e48(0x1c4)](_0x294e48(0x1e8))[_0x5c586a(0x183)][_0x294e48(0x1ed)]=_0x294e48(0x1f6);};function resetUserState(){const _0x12b1f4=_0x58172a,_0x23b3b2=_0x1ca384;username='',userEmail='',roomCode='',currentUserId=null,currentRoomRef=null,document[_0x12b1f4(0x166)](_0x23b3b2(0x1f1))[_0x23b3b2(0x1c3)]='',document[_0x23b3b2(0x1c4)](_0x23b3b2(0x1ef))[_0x23b3b2(0x1d4)]='',userKickListener&&(off(ref(db,_0x23b3b2(0x215)+roomCode+'/'+currentUserId),userKickListener),userKickListener=null),clearTimeout(typingTimeout),isTyping=![];}document[_0x1ca384(0x1f3)](_0x1ca384(0x21d),_0x1331cb=>_0x1331cb[_0x1ca384(0x1e0)]()),document[_0x58172a(0x14e)](_0x1ca384(0x207),_0x201ab8=>{const _0x2a636e=_0x58172a,_0x4c2054=_0x1ca384;(_0x201ab8[_0x4c2054(0x1f8)]===_0x2a636e(0x15a)||_0x201ab8[_0x4c2054(0x1db)]&&_0x201ab8[_0x4c2054(0x20c)]&&(_0x201ab8[_0x4c2054(0x1f8)]==='I'||_0x201ab8[_0x4c2054(0x1f8)]==='J')||_0x201ab8[_0x4c2054(0x1db)]&&_0x201ab8[_0x4c2054(0x1f8)]==='U')&&_0x201ab8[_0x4c2054(0x1e0)]();});
